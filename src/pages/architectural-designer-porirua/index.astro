---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout>

  <!-- Landing Intro -->
<section class="max-w-7xl mx-auto px-12 sm:px-6 py-12 bg-white">

  <div class="max-w-lg sm:max-w-xl lg:max-w-2xl mx-auto">

    <h1 class="text-2xl sm:text-2xl font-medium text-slate-900">
      Residential Architecture – Porirua & Kapiti Coast
    </h1>

    <p class="mt-2 text-sm leading-relaxed text-slate-700">
      Based in Porirua, working across Tawa, Aotea, Whitby, Plimmerton and the Kapiti Coast.
    </p>

    <p class="mt-3 text-sm leading-relaxed text-slate-500">
      We provide residential architectural design with a strong emphasis on early feasibility,
      planning realism, and practical build outcomes.
    </p>

    <!-- Approach -->
    <div class="mt-6">
      <h2 class="text-lg font-medium text-slate-900">Approach</h2>

      <div class="mt-2 space-y-4 text-sm leading-relaxed text-slate-500">
        <p>
          Projects begin with feasibility — understanding site constraints, planning pathways,
          and likely construction budget range before committing to full design.
        </p>
        <p>
          We guide projects through concept development, council documentation,
          and consent coordination with clarity and structure.
        </p>
        <p>
          Typical work includes new homes, renovations, and small townhouse or
          subdivision-linked residential sites.
        </p>
      </div>
    </div>

    <!-- Direct Contact -->
    <div class="mt-6">
      <h2 class="text-lg font-medium text-slate-900">Discuss Your Project</h2>

      <div class="mt-2 text-sm leading-relaxed text-slate-500">
        <p>
          Phone: <a href="tel:0213938361" class="underline">021 39 38 361</a>
        </p>
        <p class="mt-1">
          Email: <a href="mailto:info@i4c.co.nz" class="underline">info@i4c.co.nz</a>
        </p>
      </div>
    </div>

  </div>

</section>

 <!-- ================= MAIN PANELS ================= -->
  <section class="max-w-7xl mx-auto px-6">
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3">

      <!-- Houses -->
<button type="button"
  class="relative group aspect-[1/1] overflow-hidden text-left"
  data-img="/architecture.jpg"
  data-title="Dow-Leblanc House"
>
  <img src="/architecture.jpg" alt="New Build" class="absolute inset-0 w-full h-full object-cover" />
  <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/20 to-transparent"></div>
  <div class="absolute top-6 left-6 md:top-10 md:left-10">
    <h2 class="text-white text-2xl md:text-3xl font-bold tracking-wide">New Build</h2>
  </div>

      <!-- Renovation -->
<button type="button"
  class="relative group aspect-[1/1] overflow-hidden text-left"
  data-img="/ihaka.jpg"
  data-title="Horrbin Hodge House Extension"
>
  <img src="/ihaka.jpg" alt="Extension" class="absolute inset-0 w-full h-full object-cover" />
  <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/20 to-transparent"></div>
  <div class="absolute top-6 left-6 md:top-10 md:left-10">
    <h2 class="text-white text-2xl md:text-3xl font-bold tracking-wide">Renovation</h2>
  </div>

                 <!-- Town Houses -->
<button type="button"
  class="relative group aspect-[1/1] overflow-hidden text-left"
  data-img="/Stellin Street.jpg"
  data-title="Boyle Houses"
>
  <img src="/Stellin Street.jpg" alt="Town Houses" class="absolute inset-0 w-full h-full object-cover" />
  <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/20 to-transparent"></div>
  <div class="absolute top-6 left-6 md:top-10 md:left-10">
    <h2 class="text-white text-2xl md:text-3xl font-bold tracking-wide">Town Houses</h2>
  </div>


    </div>
  </section>

 <!-- Modal -->
<div id="img-modal" class="hidden fixed inset-0 z-[999]">
  <div id="img-backdrop" class="absolute inset-0 bg-black/80"></div>

  <div class="relative h-full w-full flex items-center justify-center p-6">
    <div class="relative max-w-5xl w-full">
      <button id="img-close" class="absolute -top-10 right-0 text-white text-sm px-3 py-2 border border-white/30 rounded-lg">
        Close
      </button>
      <img id="img-modal-src" src="" alt="" class="w-full max-h-[80vh] object-contain rounded-xl bg-black" />
      <div id="img-modal-title" class="mt-3 text-white text-sm opacity-90"></div>
    </div>
  </div>
</div>


  <script>
  const modal = document.getElementById("img-modal");
  const backdrop = document.getElementById("img-backdrop");
  const closeBtn = document.getElementById("img-close");
  const modalImg = document.getElementById("img-modal-src");
  const modalTitle = document.getElementById("img-modal-title");

  function openModal(src, title) {
    modalImg.src = src;
    modalImg.alt = title || "Image";
    modalTitle.textContent = title || "";
    modal.classList.remove("hidden");
    document.body.style.overflow = "hidden";
  }

  function closeModal() {
    modal.classList.add("hidden");
    modalImg.src = "";
    document.body.style.overflow = "";
  }

  document.querySelectorAll("[data-img]").forEach((el) => {
    el.addEventListener("click", () => {
      openModal(el.getAttribute("data-img"), el.getAttribute("data-title"));
    });
  });

  backdrop.addEventListener("click", closeModal);
  closeBtn.addEventListener("click", closeModal);
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && !modal.classList.contains("hidden")) closeModal();
  });
</script>


</BaseLayout>